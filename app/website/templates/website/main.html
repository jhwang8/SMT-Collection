<!DOCTYPE html>
<html>

<head>
    <title>SMT Collection Database</title>
</head>

<div class="jumbotron text-center">
  <h1>My First Bootstrap Page</h1>
  <p>Resize this responsive page to see the effect!</p>
</div>

<style>
#DemonTable {
  border: 1px solid;
}

body {
    background-color: #ffffff; 
    color: black;
}

.btn-custom {
    background-color: rgb(236, 235, 235); 
    color: rgb(54, 54, 54); 
    padding: 10px 20px; 
    border: none;
    border-radius: 5px;
    cursor: pointer; 
}
.btn2 {
    display: flex;         
    justify-content: center; 
    align-items: center;    
    border: none;        
    outline: none;             
    width: 40px;               
    height: 25px; 
}
</style>
<div class="container">
  <div class="row">
    <div class="col-sm-4">
      <h3>Column 1</h3>
      <p>Lorem ipsum dolor..</p>
    </div>
    <div class="col-sm-4">
      <h3>Column 2</h3>
      <p>Lorem ipsum dolor..</p>
    </div>
    <div class="col-sm-4">
      <h3>Column 3</h3>
      <p>Lorem ipsum dolor..</p>
    </div>
  </div>
</div>
<body>
<table id="DemonTable">
  <thead class="table-light">
    <tr>
      <th>Name</th>
      <th>Class</th>
      <th>Physical</th>
      <th>Fire</th>
      <th>Ice</th>
      <th>Electricity</th>
      <th>Wind</th>
      <th>Mystic</th>
    </tr>
  </thead>
  <tbody>
     <div id="addForm">
    <input type="text" id="newName" placeholder="Name">
    <input type="text" id="newRace" placeholder="Race">
    <input type="text" id="newPhysical" placeholder="Physical">
    <input type="text" id="newFire" placeholder="Fire">
    <input type="text" id="newIce" placeholder="Ice">
    <input type="text" id="newElectricity" placeholder="Electricity">
    <input type="text" id="newWind" placeholder="Wind">
    <input type="text" id="newMystic" placeholder="Mystic">
    <button onclick="addRow()", class = 'btn2'>Add Row</button>
    </div>
    <div id="deleteForm">
      <input type="number" id="deleteIndex" placeholder="Enter index to delete">
      <button onclick="deleteRow()">delete row</button>
    </div>
    <script>
        const tableData = [
            { Name: 'Amaterasu', Race: 'Divine', Physical: 'Neutral', Fire: 'Drain', Ice: 'Weak', Electricity: 'Null', Wind: 'Resist',  Mystic: 'Repel',},
            { Name: 'Amaterasu', Race: 'Divine', Physical: 'Neutral', Fire: 'Drain', Ice: 'Weak', Electricity: 'Null', Wind: 'Resist',  Mystic: 'Repel',},
        ];

        async function fetchData() {
        const response = await fetch('/api/demons/');
        const tableData = await response.json();
        
        renderTable(tableData);
    }
        const tableBody = document.getElementById('DemonTable').getElementsByTagName('tbody')[0];

        function renderTable() {
            tableBody.innerHTML = '';
            tableData.forEach(row => {
                const tr = document.createElement('tr');
                tr.innerHTML = `<td>${row.Name}</td><td>${row.Race}</td><td>${row.Physical}</td><td>${row.Fire}</td><td>${row.Ice}</td>
                <td>${row.Electricity}</td><td>${row.Wind}</td><td>${row.Mystic}</td>`;
                tableBody.appendChild(tr);
            });
        }
        
        renderTable();

        function deleteRow(index) {
            const indexToDelete = parseInt(document.getElementById('deleteIndex').value);

            tableData.splice(indexToDelete + 1, 1); 
            renderTable(); 
        }


        function addRow() {
            const newName = document.getElementById('newName').value;
            const newRace = document.getElementById('newRace').value;
            const newPhysical = document.getElementById('newPhysical').value;
            const newFire = document.getElementById('newFire').value;
            const newIce = document.getElementById('newIce').value;
            const newElectricity = document.getElementById('newElectricity').value;
            const newWind = document.getElementById('newWind').value;
            const newMystic = document.getElementById('newMystic').value;

            const newRow = {
                Name: newName,
                Race: newRace,
                Physical: newPhysical,
                Fire: newFire,
                Ice: newIce,
                Electricity: newElectricity,
                Wind: newWind,
                Mystic: newMystic,
            };

            tableData.push(newRow);

            renderTable(); 
        }
    </script>
  </tbody>
</table>
</body>

</html>